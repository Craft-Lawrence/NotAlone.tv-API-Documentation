# Документация по использования API сайта NotAlone.tv
Данная документация несёт в себе набор всех доступных методов, их назначение и описание работы.

## Использование
Все запросы необходимо направлять на адрес `https://api.notalone.tv/`  
Но сразу же в этой ссылке задаётся и метод, который вы собираетесь использовать. К примеру: `https://api.notalone.tv/getUser`  
Формат запросов: `POST`  
В каждом вашем запросе есть обязательный параметр - `apiKey`. Он содержит уникальный ключ, который можно получить только напрямую связавшись с администрацией сайта. Надёжнее всего это сделать через личные сообщения в группе в ВК: [https://vk.com/notalonetv](https://vk.com/notalonetv)  
  
API отвечает в формате `JSON`. Первым параметром всегда возвращается `result`, который имеет занчение `true` либо `false`. В случае `false`, всегда появляется дополнительный параметр `errorText`, объясняющий суть проблемы. Остальные параметры ситуативны и зависят от конкретного метода.

## Список доступных методов
### 1. Авторизация и регистрация
1. [auth](#auth)
1. [register](#register)
### 2. Работа с пользователями
1. [getUser](#getUser)
2. [getUserRooms](#getUserRooms)


## Описание методов

### auth <a name="auth"></a> 
Авторизация по логину и паролю. Возвращает объект с данными пользователя (вместе с токеном) в случае успеха и `false` в случае ошибки при вводе (с соответствующим `errorText`)
#### Доступные параметры:
`login` - Логин *(обязательно)*  
`password` - Пароль *(обязательно)*
***
### register <a name="register"></a> 
Регистрация. Здесь важно передать либо `password`, либо `vk_id`/`fb_id`/`g_id`. Второй вариант подходит в случае если авторизация/регистрация производится через соц.сеть. Вам сперва необходимо произвести запрос в саму соц.сеть, получить необходимые данные, и лишь после этого - отправить запрос тут.
#### Доступные параметры:
`login` - Логин. Регулярка для проверки корректности: `/^[a-z]+[a-z0-9]{3,19}$/iu` *(обязательно)*  
`password` - Пароль. Регулярка для проверки корректности: `/^[a-z0-9%_+-=]{5,20}$/i` *(обязательно при условии если регистрация производится по логину и паролю, а не соц.сети)*  
`nickname` - Никнейм. Регулярка для проверки корректности: `/^[а-яеЁa-z]+[а-яеЁa-z0-9-_]{3,19}$/iu` *(обязательно)*  
`email` - Электронная почта. Регулярка для проверки корректности: `/^[-._a-z0-9]+@[-a-z0-9]+[\.][a-z]{2,10}$/i` *(обязательно)*  
`gender` - Пол. Доступные значения `male` и `female`;  
`vk_id` - id пользователя из ВКонтакте (только цифры, без `id` в начале);  
`fb_id` - id пользователя в Фейсбуке;  
`g_id` - id пользователя в Google.  
Один из последних трёх параметров *обязателен* в случае если регистрация проиходит **НЕ** через логин+пароль.
***
### getUser <a name="getUser"></a> 
Получение всей информации о пользователе по его id.
#### Доступные параметры:
`userID` - id пользователя *(обязательно)*
***
### getUserRooms <a name="getUserRooms"></a> 
Получение массива из id всех комнат, в которых есть пользователь
#### Доступные параметры:
`userID` - id пользователя *(обязательно)*
***